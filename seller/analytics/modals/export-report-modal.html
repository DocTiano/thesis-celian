<!-- Export Report Modal -->
<div class="modal fade" id="exportReportModal" tabindex="-1" aria-labelledby="exportReportModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exportReportModalLabel">
                    <i class="bi bi-download me-2"></i>Export Analytics Report
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="exportReportForm">
                    <div class="mb-3">
                        <label for="reportType" class="form-label">Report Type</label>
                        <select class="form-select" id="reportType" required>
                            <option value="">Select report type</option>
                            <option value="sales">Sales Report</option>
                            <option value="products">Product Performance</option>
                            <option value="customers">Customer Analytics</option>
                            <option value="orders">Order Analysis</option>
                            <option value="financial">Financial Summary</option>
                            <option value="comprehensive">Comprehensive Report</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="dateRange" class="form-label">Date Range</label>
                        <select class="form-select" id="dateRange" required>
                            <option value="">Select date range</option>
                            <option value="last-7-days">Last 7 Days</option>
                            <option value="last-30-days">Last 30 Days</option>
                            <option value="last-3-months">Last 3 Months</option>
                            <option value="last-6-months">Last 6 Months</option>
                            <option value="last-year">Last Year</option>
                            <option value="custom">Custom Range</option>
                        </select>
                    </div>
                    
                    <div class="mb-3 d-none" id="customDateRange">
                        <div class="row">
                            <div class="col-md-6">
                                <label for="startDate" class="form-label">Start Date</label>
                                <input type="date" class="form-control" id="startDate">
                            </div>
                            <div class="col-md-6">
                                <label for="endDate" class="form-label">End Date</label>
                                <input type="date" class="form-control" id="endDate">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="exportFormat" class="form-label">Export Format</label>
                        <select class="form-select" id="exportFormat" required>
                            <option value="">Select format</option>
                            <option value="pdf">PDF Document</option>
                            <option value="excel">Excel Spreadsheet</option>
                            <option value="csv">CSV File</option>
                            <option value="json">JSON Data</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Include Sections</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="includeSummary" checked>
                            <label class="form-check-label" for="includeSummary">
                                Executive Summary
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="includeCharts" checked>
                            <label class="form-check-label" for="includeCharts">
                                Charts and Graphs
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="includeDetails" checked>
                            <label class="form-check-label" for="includeDetails">
                                Detailed Data
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="includeRecommendations">
                            <label class="form-check-label" for="includeRecommendations">
                                Recommendations
                            </label>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="emailReport" class="form-check-label">
                            <input class="form-check-input me-2" type="checkbox" id="emailReport">
                            Email report to my address
                        </label>
                    </div>
                </form>
                
                <div class="alert alert-info">
                    <i class="bi bi-info-circle me-2"></i>
                    <strong>Note:</strong> Large reports may take a few minutes to generate. You'll receive a notification when your report is ready.
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="generateReport">
                    <i class="bi bi-download me-1"></i>Generate Report
                </button>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const dateRangeSelect = document.getElementById('dateRange');
    const customDateRange = document.getElementById('customDateRange');
    const generateReportBtn = document.getElementById('generateReport');
    
    // Show/hide custom date range
    dateRangeSelect.addEventListener('change', function() {
        if (this.value === 'custom') {
            customDateRange.classList.remove('d-none');
        } else {
            customDateRange.classList.add('d-none');
        }
    });
    
    // Generate report
    generateReportBtn.addEventListener('click', function() {
        const form = document.getElementById('exportReportForm');
        if (form.checkValidity()) {
            // Show loading state
            this.innerHTML = '<i class="spinner-border spinner-border-sm me-1"></i>Generating...';
            this.disabled = true;
            
            // Simulate report generation
            setTimeout(() => {
                // Reset button
                this.innerHTML = '<i class="bi bi-download me-1"></i>Generate Report';
                this.disabled = false;
                
                // Show success message
                const alert = document.createElement('div');
                alert.className = 'alert alert-success';
                alert.innerHTML = '<i class="bi bi-check-circle me-2"></i>Report generated successfully! Download will start shortly.';
                document.querySelector('.modal-body').prepend(alert);
                
                // Close modal after delay
                setTimeout(() => {
                    const modal = bootstrap.Modal.getInstance(document.getElementById('exportReportModal'));
                    modal.hide();
                }, 2000);
            }, 3000);
        } else {
            form.reportValidity();
        }
    });
});
</script>
