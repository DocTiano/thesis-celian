<!-- Privacy Settings Modal -->
<div class="modal fade" id="privacySettingsModal" tabindex="-1" aria-labelledby="privacySettingsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="privacySettingsModalLabel">
                    <i class="bi bi-shield-lock me-2"></i>Privacy Settings
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="privacySettingsForm">
                    <!-- Profile Visibility -->
                    <div class="privacy-section mb-4">
                        <h6 class="mb-3">Profile Visibility</h6>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="publicProfile" checked>
                            <label class="form-check-label" for="publicProfile">
                                <strong>Make my profile public</strong>
                                <div class="text-muted small">Allow customers to view your seller profile and information</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="showContactInfo" checked>
                            <label class="form-check-label" for="showContactInfo">
                                <strong>Show contact information</strong>
                                <div class="text-muted small">Display phone number and email to potential customers</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="showLocation">
                            <label class="form-check-label" for="showLocation">
                                <strong>Show my location</strong>
                                <div class="text-muted small">Display general location (city/province) to customers</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="showBusinessInfo" checked>
                            <label class="form-check-label" for="showBusinessInfo">
                                <strong>Show business information</strong>
                                <div class="text-muted small">Display business name, description, and certifications</div>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Communication Privacy -->
                    <div class="privacy-section mb-4">
                        <h6 class="mb-3">Communication Privacy</h6>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="allowDirectMessages" checked>
                            <label class="form-check-label" for="allowDirectMessages">
                                <strong>Allow direct messages from customers</strong>
                                <div class="text-muted small">Customers can send you messages through the platform</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="allowPhoneContact">
                            <label class="form-check-label" for="allowPhoneContact">
                                <strong>Allow phone contact</strong>
                                <div class="text-muted small">Customers can call you directly for inquiries</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="allowEmailContact">
                            <label class="form-check-label" for="allowEmailContact">
                                <strong>Allow email contact</strong>
                                <div class="text-muted small">Customers can email you directly through the platform</div>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Data Sharing -->
                    <div class="privacy-section mb-4">
                        <h6 class="mb-3">Data Sharing & Analytics</h6>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="shareAnalytics" checked>
                            <label class="form-check-label" for="shareAnalytics">
                                <strong>Share anonymized analytics</strong>
                                <div class="text-muted small">Help improve the platform by sharing anonymous usage data</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="marketResearch">
                            <label class="form-check-label" for="marketResearch">
                                <strong>Participate in market research</strong>
                                <div class="text-muted small">Receive invitations to surveys and research studies</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="shareWithPartners">
                            <label class="form-check-label" for="shareWithPartners">
                                <strong>Share data with trusted partners</strong>
                                <div class="text-muted small">Allow sharing of business data with verified logistics and payment partners</div>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Marketing & Notifications -->
                    <div class="privacy-section mb-4">
                        <h6 class="mb-3">Marketing & Communications</h6>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="marketingEmails" checked>
                            <label class="form-check-label" for="marketingEmails">
                                <strong>Receive marketing emails</strong>
                                <div class="text-muted small">Get updates about new features, tips, and promotions</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="newsLetters">
                            <label class="form-check-label" for="newsLetters">
                                <strong>Receive newsletters</strong>
                                <div class="text-muted small">Get periodic newsletters about the agricultural sector and market trends</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="smsMarketing">
                            <label class="form-check-label" for="smsMarketing">
                                <strong>Receive SMS notifications</strong>
                                <div class="text-muted small">Get important updates and alerts via text message</div>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="thirdPartyOffers">
                            <label class="form-check-label" for="thirdPartyOffers">
                                <strong>Receive partner offers</strong>
                                <div class="text-muted small">Get special offers from our trusted business partners</div>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Data Retention -->
                    <div class="privacy-section mb-4">
                        <h6 class="mb-3">Data Retention</h6>
                        
                        <div class="form-group mb-3">
                            <label for="dataRetentionPeriod" class="form-label">Keep my data for:</label>
                            <select class="form-select" id="dataRetentionPeriod">
                                <option value="indefinite" selected>Until I delete my account</option>
                                <option value="5years">5 years after account closure</option>
                                <option value="3years">3 years after account closure</option>
                                <option value="1year">1 year after account closure</option>
                                <option value="6months">6 months after account closure</option>
                            </select>
                            <div class="form-text">Some data may be retained longer for legal compliance</div>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="autoDelete">
                            <label class="form-check-label" for="autoDelete">
                                <strong>Auto-delete old data</strong>
                                <div class="text-muted small">Automatically delete old messages and non-essential data after 2 years</div>
                            </label>
                        </div>
                    </div>
                </form>
                
                <div class="alert alert-info">
                    <i class="bi bi-info-circle me-2"></i>
                    <strong>Privacy Notice:</strong> These settings control how your data is used and shared. You can change these settings anytime. For more details, please read our <a href="#" class="alert-link">Privacy Policy</a>.
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary">
                    <i class="bi bi-file-text me-1"></i>View Privacy Policy
                </button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="savePrivacySettings">
                    <i class="bi bi-shield-check me-1"></i>Save Settings
                </button>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const saveBtn = document.getElementById('savePrivacySettings');
    
    saveBtn.addEventListener('click', function() {
        // Show loading state
        this.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Saving...';
        this.disabled = true;
        
        // Simulate save
        setTimeout(() => {
            // Reset button
            this.innerHTML = '<i class="bi bi-shield-check me-1"></i>Save Settings';
            this.disabled = false;
            
            // Show success message
            const alert = document.createElement('div');
            alert.className = 'alert alert-success';
            alert.innerHTML = '<i class="bi bi-check-circle me-2"></i>Privacy settings updated successfully!';
            document.querySelector('.modal-body').prepend(alert);
            
            // Close modal after delay
            setTimeout(() => {
                const modal = bootstrap.Modal.getInstance(document.getElementById('privacySettingsModal'));
                modal.hide();
            }, 1500);
        }, 2000);
    });
});
</script>
