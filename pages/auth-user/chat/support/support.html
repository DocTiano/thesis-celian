<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support Chat | From Sagnay to Every Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../../../../css/styles.css">
</head>

<body>
    <header class="header-wrapper">
        <div class="header-with-search-wrapper">
            <div class="logo-wrapper">
                <a href="../../index.html" aria-label="Home">
                    <img src="../../../../logos/s2eh.png" alt="Logo">
                </a>
            </div>

            <div class="search-wrapper">
                <input type="text" class="search-input" placeholder="Search...">
                <button class="search-button">
                    <i class="bi bi-search"></i>
                </button>
            </div>

            <div class="cart-account-wrapper">
                <!-- Chat Icon -->
                <a href="../chat.html" class="chat-wrapper" aria-label="Chat">
                    <i class="bi bi-chat-dots cart-icon"></i>
                </a>

                <!-- Basket -->
                <a href="../../cart.html" class="basket-wrapper" aria-label="Basket">
                    <i class="bi bi-basket cart-icon"></i>
                    <span class="basket-badge"></span>
                </a>

                <!-- Account -->
                <a href="../../account/profile/profile.html" class="account-wrapper" aria-label="Account">
                    <i class="bi bi-person-fill"></i>
                </a>
            </div>
        </div>
    </header>

    <!-- Support Chat Interface -->
    <div class="container-fluid" style="margin-top: 90px;">
        <div class="row">
            <div class="col-12">
                <div class="support-chat-container">
                    <!-- Support Header -->
                    <div class="support-header bg-primary text-white p-4 rounded-top">
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <h3><i class="bi bi-headset me-2"></i>S2EH Customer Support</h3>
                                <p class="mb-0">We're here to help! Chat with our support team or browse our help topics.</p>
                            </div>
                            <div class="col-md-4 text-end">
                                <span class="badge bg-success fs-6">
                                    <i class="bi bi-circle-fill me-1"></i>Online - Avg. response: 2 min
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Help Topics -->
                    <div class="quick-help-topics bg-light p-4 border">
                        <h5 class="mb-3">Quick Help Topics</h5>
                        <div class="row g-3">
                            <div class="col-md-3">
                                <div class="help-topic-card bg-white p-3 rounded border h-100 text-center">
                                    <i class="bi bi-box-seam text-primary fs-1 mb-2"></i>
                                    <h6>Order Issues</h6>
                                    <p class="small text-muted mb-3">Track orders, delivery issues, returns</p>
                                    <button class="btn btn-outline-primary btn-sm w-100" onclick="startChat('order')">Start Chat</button>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="help-topic-card bg-white p-3 rounded border h-100 text-center">
                                    <i class="bi bi-credit-card text-success fs-1 mb-2"></i>
                                    <h6>Payment Help</h6>
                                    <p class="small text-muted mb-3">Payment methods, refunds, billing</p>
                                    <button class="btn btn-outline-primary btn-sm w-100" onclick="startChat('payment')">Start Chat</button>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="help-topic-card bg-white p-3 rounded border h-100 text-center">
                                    <i class="bi bi-person-circle text-warning fs-1 mb-2"></i>
                                    <h6>Account Support</h6>
                                    <p class="small text-muted mb-3">Login issues, profile settings</p>
                                    <button class="btn btn-outline-primary btn-sm w-100" onclick="startChat('account')">Start Chat</button>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="help-topic-card bg-white p-3 rounded border h-100 text-center">
                                    <i class="bi bi-question-circle text-info fs-1 mb-2"></i>
                                    <h6>General Help</h6>
                                    <p class="small text-muted mb-3">Product questions, platform guide</p>
                                    <button class="btn btn-outline-primary btn-sm w-100" onclick="startChat('general')">Start Chat</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Chat Interface -->
                    <div class="support-chat-interface bg-white" style="height: 500px;">
                        <div class="d-flex h-100">
                            <!-- Chat Messages Area -->
                            <div class="flex-grow-1 d-flex flex-column">
                                <!-- Chat Messages -->
                                <div class="chat-messages flex-grow-1 overflow-auto p-4" id="supportChatMessages">
                                    <!-- Welcome Message -->
                                    <div class="welcome-message text-center py-5">
                                        <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                                            <i class="bi bi-headset text-white fs-1"></i>
                                        </div>
                                        <h5>Welcome to S2EH Support!</h5>
                                        <p class="text-muted">Choose a help topic above or start a general conversation with our support team.</p>
                                        <button class="btn btn-primary" onclick="startChat('general')">
                                            <i class="bi bi-chat-dots me-2"></i>Start Chatting
                                        </button>
                                    </div>
                                </div>

                                <!-- Chat Input -->
                                <div class="chat-input p-3 border-top" id="supportChatInput" style="display: none;">
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Type your message..." id="supportMessageInput">
                                        <button class="btn btn-primary" type="button" id="sendSupportMessage">
                                            <i class="bi bi-send"></i> Send
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Help Resources Sidebar -->
                            <div class="help-resources border-start p-3" style="width: 300px;">
                                <h6 class="mb-3">Help Resources</h6>
                                
                                <!-- FAQ Section -->
                                <div class="mb-4">
                                    <h6 class="small text-uppercase text-muted">Frequently Asked</h6>
                                    <div class="list-group list-group-flush">
                                        <a href="#" class="list-group-item list-group-item-action border-0 px-0 py-2">
                                            <small>How do I track my order?</small>
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action border-0 px-0 py-2">
                                            <small>What payment methods do you accept?</small>
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action border-0 px-0 py-2">
                                            <small>How do I return an item?</small>
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action border-0 px-0 py-2">
                                            <small>How to contact a seller?</small>
                                        </a>
                                    </div>
                                </div>

                                <!-- Contact Info -->
                                <div class="mb-4">
                                    <h6 class="small text-uppercase text-muted">Contact Info</h6>
                                    <div class="contact-info">
                                        <p class="small mb-2"><i class="bi bi-telephone me-2"></i>+63 912 345 6789</p>
                                        <p class="small mb-2"><i class="bi bi-envelope me-2"></i>support@s2eh.com</p>
                                        <p class="small mb-2"><i class="bi bi-clock me-2"></i>24/7 Support</p>
                                    </div>
                                </div>

                                <!-- Support Hours -->
                                <div class="support-hours bg-light p-3 rounded">
                                    <h6 class="small text-uppercase text-muted mb-2">Support Hours</h6>
                                    <p class="small mb-1"><strong>Chat:</strong> 24/7</p>
                                    <p class="small mb-1"><strong>Phone:</strong> 8AM - 10PM</p>
                                    <p class="small mb-0"><strong>Email:</strong> Within 24 hours</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-5 border-top mt-5">
        <div class="container">
            <div class="text-center">
                <p class="text-muted mb-0"><i class="bi bi-c-circle me-1"></i>2025 From Sagnay to Every Home. All rights reserved.</p>
                <p class="text-muted small"><i class="bi bi-shop me-1"></i>An e-commerce platform connecting local producers in Sagnay, Camarines Sur with customers nationwide.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Support Chat JavaScript -->
    <script>
        let supportChatActive = false;
        
        function startChat(topic) {
            supportChatActive = true;
            const chatMessages = document.getElementById('supportChatMessages');
            const chatInput = document.getElementById('supportChatInput');
            
            // Show chat input
            chatInput.style.display = 'block';
            
            // Create topic-specific welcome message
            const topicMessages = {
                order: "Hi! I'm here to help with your order. Please provide your order number or describe the issue you're experiencing.",
                payment: "Hello! I can assist you with payment-related questions. What payment issue are you facing?",
                account: "Hi there! I'm here to help with your account. Are you having trouble logging in or need help with your profile?",
                general: "Hello! Welcome to S2EH support. How can I help you today?"
            };
            
            const topicIcons = {
                order: 'bi-box-seam',
                payment: 'bi-credit-card',
                account: 'bi-person-circle',
                general: 'bi-chat-dots'
            };
            
            chatMessages.innerHTML = `
                <div class="message mb-3">
                    <div class="d-flex">
                        <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                            <i class="bi bi-headset text-white"></i>
                        </div>
                        <div class="message-content">
                            <div class="d-flex align-items-center mb-1">
                                <strong class="me-2">S2EH Support</strong>
                                <small class="text-success"><i class="bi bi-circle-fill me-1"></i>Online</small>
                            </div>
                            <div class="message-bubble bg-light p-3 rounded">
                                <div class="d-flex align-items-center mb-2">
                                    <i class="bi ${topicIcons[topic]} text-primary me-2"></i>
                                    <small class="text-muted text-uppercase">${topic.toUpperCase()} SUPPORT</small>
                                </div>
                                <p class="mb-1">${topicMessages[topic]}</p>
                                <small class="text-muted">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</small>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Focus on input
            document.getElementById('supportMessageInput').focus();
        }
        
        // Send message functionality
        document.getElementById('sendSupportMessage').addEventListener('click', sendSupportMessage);
        document.getElementById('supportMessageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendSupportMessage();
            }
        });
        
        function sendSupportMessage() {
            const input = document.getElementById('supportMessageInput');
            const content = input.value.trim();
            if (!content || !supportChatActive) return;
            
            const chatMessages = document.getElementById('supportChatMessages');
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            // Add user message
            chatMessages.innerHTML += `
                <div class="message mb-3">
                    <div class="d-flex justify-content-end">
                        <div class="message-content">
                            <div class="message-bubble bg-primary text-white p-3 rounded">
                                <p class="mb-1">${content}</p>
                                <small class="text-light">${time}</small>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Clear input
            input.value = '';
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Simulate support response
            setTimeout(() => {
                const responses = [
                    "Thank you for contacting us! I'm looking into that for you right now.",
                    "I understand your concern. Let me help you with that.",
                    "Great question! Here's what I can tell you about that.",
                    "I've found some information that should help. Let me share it with you.",
                    "That's a common question. I'm happy to clarify that for you."
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                const responseTime = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                chatMessages.innerHTML += `
                    <div class="message mb-3">
                        <div class="d-flex">
                            <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 32px; height: 32px;">
                                <i class="bi bi-headset text-white"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-bubble bg-light p-3 rounded">
                                    <p class="mb-1">${randomResponse}</p>
                                    <small class="text-muted">${responseTime}</small>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000 + Math.random() * 2000);
        }
    </script>
</body>

</html>
