<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details | From Sagnay to Every Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../../../css/styles.css">
</head>

<body>
    <!-- Header -->
    <header class="header-wrapper">
        <div class="header-with-search-wrapper">
            <div class="logo-wrapper">
                <a href="../index.html" aria-label="Home">
                    <img src="../../../logos/s2eh.png" alt="Logo">
                </a>
            </div>

            <div class="search-wrapper">
                <input type="text" class="search-input" placeholder="Search products...">
                <button class="search-button">
                    <i class="bi bi-search"></i>
                </button>
            </div>

            <div class="cart-account-wrapper">
                <!-- Chat Icon -->
                <a href="../chat/chat.html" class="chat-wrapper" aria-label="Chat">
                    <i class="bi bi-chat-dots cart-icon"></i>
                    <span class="badge bg-danger position-absolute top-0 start-100 translate-middle">3</span>

                </a>

                <!-- Basket -->
                <a href="../cart.html" class="basket-wrapper" aria-label="Basket">
                    <i class="bi bi-basket cart-icon"></i>
                    <span class="basket-badge"></span>
                </a>

                <!-- Account -->
                <a href="../account/profile/profile.html" class="account-wrapper" aria-label="Account">
                    <i class="bi bi-person-fill"></i>
                </a>
            </div>
        </div>
    </header>

    <!-- Product Details Content -->
    <div class="container" style="margin-top: 100px;">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb" class="mb-4">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
                <li class="breadcrumb-item"><a href="../products.html">Products</a></li>
                <li class="breadcrumb-item"><a href="#" id="categoryBreadcrumb">Category</a></li>
                <li class="breadcrumb-item active" aria-current="page" id="productBreadcrumb">Product</li>
            </ol>
        </nav>

        <!-- Product Details Section -->
        <div class="row">
            <!-- Product Images -->
            <div class="col-lg-6">
                <div class="product-images">
                    <!-- Main Image -->
                    <div class="main-image-container mb-3">
                        <div class="position-relative">
                            <img src="../../../images/unknown.jpg" alt="Product Image"
                                class="main-product-image img-fluid rounded shadow" id="mainImage">

                            <!-- Product Badges -->
                            <div class="product-badges position-absolute top-0 start-0 m-3">
                                <span class="badge bg-success mb-2 d-block lgu-badge" id="lguBadge"
                                    style="display: none !important;">
                                    <i class="bi bi-shield-check me-1"></i>LGU Validated
                                </span>
                                <span class="badge bg-primary mb-2 d-block verified-badge" id="verifiedBadge"
                                    style="display: none !important;">
                                    <i class="bi bi-patch-check me-1"></i>Verified Seller
                                </span>
                                <span class="badge bg-danger sale-badge" id="saleBadge"
                                    style="display: none !important;">
                                    <i class="bi bi-fire me-1"></i><span id="discountPercentage">0</span>% OFF
                                </span>
                            </div>

                            <!-- Image Controls -->
                            <div class="image-controls position-absolute bottom-0 end-0 m-3">
                                <button class="btn btn-dark btn-sm me-2" data-bs-toggle="modal"
                                    data-bs-target="#imageModal">
                                    <i class="bi bi-arrows-fullscreen"></i>
                                </button>
                                <button class="btn btn-dark btn-sm" id="shareProduct">
                                    <i class="bi bi-share"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Thumbnail Images -->
                    <div class="thumbnail-images">
                        <div class="row g-2" id="thumbnailContainer">
                            <!-- Thumbnails will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Information -->
            <div class="col-lg-6">
                <div class="product-info">
                    <!-- Product Title -->
                    <h1 class="product-title mb-3" id="productTitle">Loading...</h1>

                    <!-- Seller Information -->
                    <div class="seller-info mb-3 p-3 bg-light rounded">
                        <div class="d-flex align-items-center">
                            <img src="../../../images/unknown.jpg" alt="Seller" class="seller-avatar rounded-circle me-3"
                                width="50" height="50" id="sellerAvatar">
                            <div class="flex-grow-1">
                                <h6 class="mb-1">
                                    <span id="sellerName">Seller Name</span>
                                    <i class="bi bi-patch-check text-primary ms-1" id="sellerVerified"
                                        style="display: none;"></i>
                                </h6>
                                <div class="seller-rating mb-1">
                                    <span class="rating-stars" id="sellerRating"></span>
                                    <small class="text-muted">(<span id="sellerReviews">0</span> reviews)</small>
                                </div>
                                <small class="text-muted">
                                    <i class="bi bi-geo-alt me-1"></i><span id="sellerLocation">Location</span>
                                </small>
                            </div>
                            <div class="seller-actions">
                                <button class="btn btn-outline-primary btn-sm me-2" onclick="chatWithSeller()">
                                    <i class="bi bi-chat-dots me-1"></i>Chat
                                </button>
                                <button class="btn btn-outline-secondary btn-sm" onclick="viewSellerProfile()">
                                    <i class="bi bi-shop me-1"></i>Store
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Product Rating -->
                    <div class="product-rating mb-3">
                        <div class="d-flex align-items-center">
                            <span class="rating-stars me-2" id="productRating"></span>
                            <span class="rating-value fw-bold me-2" id="ratingValue">0</span>
                            <span class="text-muted">(<span id="totalReviews">0</span> reviews)</span>
                            <a href="#reviews" class="ms-3 text-decoration-none">See all reviews</a>
                        </div>
                    </div>

                    <!-- Product Price -->
                    <div class="product-pricing mb-4">
                        <div class="price-section">
                            <span class="original-price text-decoration-line-through text-muted me-2" id="originalPrice"
                                style="display: none;"></span>
                            <span class="current-price fw-bold text-success fs-2" id="currentPrice">â‚±0</span>
                            <span class="discount-badge badge bg-danger ms-2" id="priceDicountBadge"
                                style="display: none;"></span>
                        </div>
                        <small class="text-muted">Price includes all applicable taxes</small>
                    </div>

                    <!-- Product Variants -->
                    <div class="product-variants mb-4" id="variantsSection" style="display: none;">
                        <!-- Size variant -->
                        <div class="variant-group mb-3" id="sizeVariant" style="display: none;">
                            <label class="form-label fw-bold">Size:</label>
                            <div class="variant-options" id="sizeOptions">
                                <!-- Size options will be populated by JavaScript -->
                            </div>
                        </div>

                        <!-- Color variant -->
                        <div class="variant-group mb-3" id="colorVariant" style="display: none;">
                            <label class="form-label fw-bold">Color:</label>
                            <div class="variant-options" id="colorOptions">
                                <!-- Color options will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Quantity Selector -->
                    <div class="quantity-section mb-4">
                        <label class="form-label fw-bold">Quantity:</label>
                        <div class="d-flex align-items-center">
                            <div class="quantity-selector me-3">
                                <button class="quantity-decrease">-</button>
                                <input type="number" class="quantity-input" value="1" min="1" max="999"
                                    id="quantityInput">
                                <button class="quantity-increase">+</button>
                            </div>
                            <span class="text-muted">
                                <span id="stockCount">999</span> pieces available
                            </span>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="product-actions mb-4">
                        <div class="row g-2">
                            <div class="col-12 col-md-6">
                                <button class="btn btn-outline-success w-100 add-to-basket" id="addToCartBtn">
                                    <i class="bi bi-cart-plus me-2"></i>Add to Cart
                                </button>
                            </div>
                            <div class="col-12 col-md-6">
                                <button class="btn btn-success w-100" id="buyNowBtn">
                                    <i class="bi bi-lightning me-2"></i>Buy Now
                                </button>
                            </div>
                        </div>
                        
                    </div>

                    <!-- Delivery Information -->
                    <div class="delivery-info bg-light p-3 rounded mb-4">
                        <h6 class="mb-3"><i class="bi bi-truck me-2"></i>Delivery Information</h6>
                        <div class="delivery-option mb-2">
                            <div class="d-flex justify-content-between">
                                <span><i class="bi bi-geo-alt me-1"></i>Standard Delivery</span>
                                <span class="text-success">â‚±50 - â‚±120</span>
                            </div>
                            <small class="text-muted">3-7 business days</small>
                        </div>
                        <div class="delivery-option mb-2">
                            <div class="d-flex justify-content-between">
                                <span><i class="bi bi-lightning me-1"></i>Express Delivery</span>
                                <span class="text-warning">â‚±150 - â‚±250</span>
                            </div>
                            <small class="text-muted">1-2 business days</small>
                        </div>
                        <hr class="my-2">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-shield-check text-success me-2"></i>
                            <small>100% Authentic Products Guaranteed</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Product Details Tabs -->
        <div class="product-tabs mt-5">
            <ul class="nav nav-tabs" id="productTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="description-tab" data-bs-toggle="tab"
                        data-bs-target="#description" type="button" role="tab">
                        <i class="bi bi-file-text me-1"></i>Description
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="specifications-tab" data-bs-toggle="tab"
                        data-bs-target="#specifications" type="button" role="tab">
                        <i class="bi bi-list-check me-1"></i>Specifications
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews"
                        type="button" role="tab">
                        <i class="bi bi-star me-1"></i>Reviews (<span id="reviewsCount">0</span>)
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="shipping-tab" data-bs-toggle="tab" data-bs-target="#shipping"
                        type="button" role="tab">
                        <i class="bi bi-truck me-1"></i>Shipping & Returns
                    </button>
                </li>
            </ul>

            <div class="tab-content" id="productTabsContent">
                <!-- Description Tab -->
                <div class="tab-pane fade show active" id="description" role="tabpanel">
                    <div class="p-4">
                        <h5>Product Description</h5>
                        <div id="productDescription">
                            <!-- Description will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Specifications Tab -->
                <div class="tab-pane fade" id="specifications" role="tabpanel">
                    <div class="p-4">
                        <h5>Product Specifications</h5>
                        <div class="table-responsive">
                            <table class="table table-striped" id="specificationsTable">
                                <!-- Specifications will be populated by JavaScript -->
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Reviews Tab -->
                <div class="tab-pane fade" id="reviews" role="tabpanel">
                    <div class="p-4">
                        <div class="reviews-summary mb-4">
                            <div class="row align-items-center">
                                <div class="col-md-6">
                                    <div class="overall-rating text-center">
                                        <div class="rating-number display-4 fw-bold text-success" id="overallRating">0
                                        </div>
                                        <div class="rating-stars mb-2" id="overallStars"></div>
                                        <small class="text-muted">Based on <span id="totalReviewsCount">0</span>
                                            reviews</small>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="rating-breakdown">
                                        <!-- Rating breakdown will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Write Review Button -->
                        <div class="text-center mb-4">
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#reviewModal">
                                <i class="bi bi-pencil me-2"></i>Write a Review
                            </button>
                        </div>

                        <!-- Reviews List -->
                        <div class="reviews-list" id="reviewsList">
                            <!-- Reviews will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Shipping Tab -->
                <div class="tab-pane fade" id="shipping" role="tabpanel">
                    <div class="p-4">
                        <div class="row">
                            <div class="col-md-6">
                                <h5><i class="bi bi-truck me-2"></i>Shipping Information</h5>
                                <ul class="list-unstyled">
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Free shipping
                                        on orders over â‚±1,000</li>
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Standard
                                        delivery: 3-7 business days</li>
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Express
                                        delivery: 1-2 business days</li>
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Nationwide
                                        coverage</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5><i class="bi bi-arrow-return-left me-2"></i>Returns & Exchanges</h5>
                                <ul class="list-unstyled">
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>30-day return
                                        policy</li>
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Free returns
                                        for defective items</li>
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Easy exchange
                                        process</li>
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Money-back
                                        guarantee</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Related Products -->
        <div class="related-products mt-5">
            <h4 class="mb-4">Related Products</h4>
            <div class="row g-4" id="relatedProducts">
                <!-- Related products will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div class="modal fade" id="imageModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Product Images</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="imageCarousel" class="carousel slide" data-bs-ride="false">
                        <div class="carousel-inner" id="modalCarouselInner">
                            <!-- Images will be populated by JavaScript -->
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#imageCarousel"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#imageCarousel"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Review Modal -->
    <div class="modal fade" id="reviewModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Write a Review</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="reviewForm">
                        <div class="mb-3">
                            <label class="form-label">Rating</label>
                            <div class="rating-input">
                                <input type="radio" name="rating" value="5" id="star5">
                                <label for="star5">â˜…</label>
                                <input type="radio" name="rating" value="4" id="star4">
                                <label for="star4">â˜…</label>
                                <input type="radio" name="rating" value="3" id="star3">
                                <label for="star3">â˜…</label>
                                <input type="radio" name="rating" value="2" id="star2">
                                <label for="star2">â˜…</label>
                                <input type="radio" name="rating" value="1" id="star1">
                                <label for="star1">â˜…</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Review Title</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Your Review</label>
                            <textarea class="form-control" rows="4" required></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="submitReview">Submit Review</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-5 border-top mt-5">
        <div class="container">
            <div class="text-center">
                <p class="text-muted mb-0"><i class="bi bi-c-circle me-1"></i>2025 From Sagnay to Every Home. All rights
                    reserved.</p>
                <p class="text-muted small"><i class="bi bi-shop me-1"></i>An e-commerce platform connecting local
                    producers in Sagnay, Camarines Sur with customers nationwide.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Product Details JavaScript -->
    <script type="module" src="../../../scripts/cart/basket.js"></script>
    <script src="../../scripts/cart/quantity.js"></script>
    <script src="../../scripts/ui/notifications.js"></script>
    <script src="../../scripts/products/product-details.js"></script>
</body>

</html>