<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout | From Sagnay to Every Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../../../css/styles.css">
</head>

<body>
    <!-- Header -->
    <header class="header-wrapper">
        <div class="header-with-search-wrapper">
            <div class="logo-wrapper">
                <a href="../../index.html" aria-label="Home">
                    <img src="../../../logos/s2eh.png" alt="Logo">
                </a>
            </div>

            <div class="search-wrapper">
                <input type="text" class="search-input" placeholder="Search products...">
                <button class="search-button">
                    <i class="bi bi-search"></i>
                </button>
            </div>

            <div class="cart-account-wrapper">
                <!-- Chat Icon -->
                <a href="../../chat/chat.html" class="chat-wrapper" aria-label="Chat">
                    <i class="bi bi-chat-dots cart-icon"></i>
                </a>

                <!-- Basket (Active) -->
                <a href="../../cart.html" class="basket-wrapper active" aria-label="Basket">
                    <i class="bi bi-basket cart-icon text-primary"></i>
                    <span class="basket-badge">3</span>
                </a>

                <!-- Account -->
                <a href="../../account/profile/profile.html" class="account-wrapper" aria-label="Account">
                    <i class="bi bi-person-fill"></i>
                </a>
            </div>
        </div>
    </header>

    <!-- Checkout Content -->
    <div class="container-fluid" style="margin-top: 90px;">
        <!-- Checkout Progress -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="checkout-progress bg-white border rounded p-3">
                    <div class="d-flex align-items-center justify-content-between">
                        <div class="progress-step active">
                            <div class="step-icon">
                                <i class="bi bi-basket"></i>
                            </div>
                            <span class="step-label">Cart</span>
                        </div>
                        <div class="progress-line active"></div>
                        <div class="progress-step active">
                            <div class="step-icon">
                                <i class="bi bi-credit-card"></i>
                            </div>
                            <span class="step-label">Checkout</span>
                        </div>
                        <div class="progress-line"></div>
                        <div class="progress-step">
                            <div class="step-icon">
                                <i class="bi bi-check-circle"></i>
                            </div>
                            <span class="step-label">Confirmation</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Checkout Form -->
            <div class="col-lg-8">
                <form id="checkoutForm">
                    <!-- Delivery Information -->
                    <div class="checkout-section bg-white border rounded p-4 mb-4">
                        <h5 class="mb-4">
                            <i class="bi bi-truck me-2"></i>Delivery Information
                        </h5>
                        
                        <!-- Saved Addresses -->
                        <div class="mb-4">
                            <label class="form-label fw-bold">Select Delivery Address</label>
                            <div class="address-options">
                                <div class="form-check address-option p-3 border rounded mb-2">
                                    <input class="form-check-input" type="radio" name="deliveryAddress" id="address1" value="address1" checked>
                                    <label class="form-check-label w-100" for="address1">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">Home Address</h6>
                                                <p class="text-muted mb-1">123 Main Street, Barangay Centro</p>
                                                <p class="text-muted mb-0">Sagnay, Camarines Sur 4504</p>
                                                <span class="badge bg-primary mt-1">Default</span>
                                            </div>
                                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="editAddress('address1')">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                        </div>
                                    </label>
                                </div>
                                
                                <div class="form-check address-option p-3 border rounded mb-2">
                                    <input class="form-check-input" type="radio" name="deliveryAddress" id="address2" value="address2">
                                    <label class="form-check-label w-100" for="address2">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">Office Address</h6>
                                                <p class="text-muted mb-1">456 Business Avenue, Downtown</p>
                                                <p class="text-muted mb-0">Naga City, Camarines Sur 4400</p>
                                            </div>
                                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="editAddress('address2')">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            
                            <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#addAddressModal">
                                <i class="bi bi-plus me-1"></i>Add New Address
                            </button>
                        </div>

                        <!-- Delivery Options -->
                        <div class="mb-4">
                            <label class="form-label fw-bold">Delivery Options</label>
                            <div class="delivery-options">
                                <div class="form-check delivery-option p-3 border rounded mb-2">
                                    <input class="form-check-input" type="radio" name="deliveryOption" id="standard" value="standard" checked>
                                    <label class="form-check-label w-100" for="standard">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <h6 class="mb-1">Standard Delivery</h6>
                                                <p class="text-muted mb-0">3-7 business days</p>
                                            </div>
                                            <span class="fw-bold text-success">₱50</span>
                                        </div>
                                    </label>
                                </div>
                                
                                <div class="form-check delivery-option p-3 border rounded mb-2">
                                    <input class="form-check-input" type="radio" name="deliveryOption" id="express" value="express">
                                    <label class="form-check-label w-100" for="express">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <h6 class="mb-1">Express Delivery</h6>
                                                <p class="text-muted mb-0">1-2 business days</p>
                                            </div>
                                            <span class="fw-bold text-warning">₱150</span>
                                        </div>
                                    </label>
                                </div>
                                
                                <div class="form-check delivery-option p-3 border rounded">
                                    <input class="form-check-input" type="radio" name="deliveryOption" id="pickup" value="pickup">
                                    <label class="form-check-label w-100" for="pickup">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <h6 class="mb-1">Store Pickup</h6>
                                                <p class="text-muted mb-0">Available at LGU Sagnay Office</p>
                                            </div>
                                            <span class="fw-bold text-success">FREE</span>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Delivery Instructions -->
                        <div class="mb-3">
                            <label class="form-label">Delivery Instructions (Optional)</label>
                            <textarea class="form-control" rows="3" placeholder="Special instructions for delivery..." id="deliveryInstructions"></textarea>
                        </div>
                    </div>

                    <!-- Payment Method -->
                    <div class="checkout-section bg-white border rounded p-4 mb-4">
                        <h5 class="mb-4">
                            <i class="bi bi-credit-card me-2"></i>Payment Method
                        </h5>
                        
                        <div class="payment-methods">
                            <!-- Cash on Delivery -->
                            <div class="form-check payment-option p-3 border rounded mb-3">
                                <input class="form-check-input" type="radio" name="paymentMethod" id="cod" value="cod" checked>
                                <label class="form-check-label w-100" for="cod">
                                    <div class="d-flex align-items-center">
                                        <img src="../../../images/cod.jpg" alt="Cash on Delivery" class="payment-logo me-3">
                                        <div>
                                            <h6 class="mb-1">Cash on Delivery (COD)</h6>
                                            <p class="text-muted mb-0">Pay when your order is delivered</p>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <!-- GCash -->
                            <div class="form-check payment-option p-3 border rounded mb-3">
                                <input class="form-check-input" type="radio" name="paymentMethod" id="gcash" value="gcash">
                                <label class="form-check-label w-100" for="gcash">
                                    <div class="d-flex align-items-center">
                                        <img src="../../../images/gcash.png" alt="GCash" class="payment-logo me-3">
                                        <div>
                                            <h6 class="mb-1">GCash</h6>
                                            <p class="text-muted mb-0">Pay securely with your GCash account</p>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <!-- Bank Transfer -->
                            <div class="form-check payment-option p-3 border rounded">
                                <input class="form-check-input" type="radio" name="paymentMethod" id="bank" value="bank">
                                <label class="form-check-label w-100" for="bank">
                                    <div class="d-flex align-items-center">
                                        <div class="payment-logo bg-light d-flex align-items-center justify-content-center me-3">
                                            <i class="bi bi-bank2 fs-4"></i>
                                        </div>
                                        <div>
                                            <h6 class="mb-1">Bank Transfer</h6>
                                            <p class="text-muted mb-0">Direct bank transfer</p>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Payment Details (hidden by default) -->
                        <div class="payment-details mt-3" id="gcashDetails" style="display: none;">
                            <div class="alert alert-info">
                                <h6>GCash Payment Instructions</h6>
                                <p class="mb-2">1. You will be redirected to GCash payment page</p>
                                <p class="mb-2">2. Enter your GCash mobile number and PIN</p>
                                <p class="mb-0">3. Confirm the payment amount and complete the transaction</p>
                            </div>
                        </div>

                        <div class="payment-details mt-3" id="bankDetails" style="display: none;">
                            <div class="alert alert-info">
                                <h6>Bank Transfer Details</h6>
                                <p class="mb-1"><strong>Bank:</strong> BDO Unibank</p>
                                <p class="mb-1"><strong>Account Name:</strong> From Sagnay to Every Home</p>
                                <p class="mb-1"><strong>Account Number:</strong> 1234-5678-9012</p>
                                <p class="mb-0">Please send the payment confirmation screenshot to our chat support.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Order Notes -->
                    <div class="checkout-section bg-white border rounded p-4 mb-4">
                        <h5 class="mb-3">
                            <i class="bi bi-chat-text me-2"></i>Order Notes (Optional)
                        </h5>
                        <textarea class="form-control" rows="3" placeholder="Any special requests or notes for your order..." id="orderNotes"></textarea>
                    </div>
                </form>
            </div>

            <!-- Order Summary -->
            <div class="col-lg-4">
                <div class="order-summary bg-white border rounded p-4 sticky-top" style="top: 100px;">
                    <h5 class="mb-4">
                        <i class="bi bi-receipt me-2"></i>Order Summary
                    </h5>
                    
                    <!-- Order Items -->
                    <div class="order-items mb-4">
                        <div class="order-item d-flex align-items-center mb-3 pb-3 border-bottom">
                            <img src="../../../images/unknown.jpg" alt="Product" class="item-image me-3">
                            <div class="flex-grow-1">
                                <h6 class="mb-1">Pili Nuts (250g)</h6>
                                <p class="text-muted mb-1 small">by Maria's Farm</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="text-muted small">Qty: 2</span>
                                    <span class="fw-bold">₱360.00</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="order-item d-flex align-items-center mb-3 pb-3 border-bottom">
                            <img src="../../../images/unknown.jpg" alt="Product" class="item-image me-3">
                            <div class="flex-grow-1">
                                <h6 class="mb-1">Handwoven Basket</h6>
                                <p class="text-muted mb-1 small">by Sagnay Crafts</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="text-muted small">Qty: 1</span>
                                    <span class="fw-bold">₱350.00</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="order-item d-flex align-items-center mb-3">
                            <img src="../../../images/unknown.jpg" alt="Product" class="item-image me-3">
                            <div class="flex-grow-1">
                                <h6 class="mb-1">Organic Rice (5kg)</h6>
                                <p class="text-muted mb-1 small">by Santos Family Farm</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="text-muted small">Qty: 1</span>
                                    <span class="fw-bold">₱320.00</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Price Breakdown -->
                    <div class="price-breakdown">
                        <div class="d-flex justify-content-between mb-2">
                            <span>Subtotal (3 items)</span>
                            <span>₱1,030.00</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Delivery Fee</span>
                            <span id="deliveryFee">₱50.00</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Service Fee</span>
                            <span>₱15.00</span>
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between mb-3">
                            <span class="fw-bold fs-5">Total</span>
                            <span class="fw-bold fs-5 text-success" id="totalAmount">₱1,095.00</span>
                        </div>
                    </div>

                    <!-- Voucher/Promo Code -->
                    <div class="voucher-section mb-4">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Voucher code" id="voucherCode">
                            <button class="btn btn-outline-primary" type="button" id="applyVoucher">Apply</button>
                        </div>
                        <small class="text-muted">Enter voucher or promo code</small>
                    </div>

                    <!-- Place Order Button -->
                    <button type="button" class="btn btn-success w-100 btn-lg" id="placeOrderBtn">
                        <i class="bi bi-bag-check me-2"></i>Place Order
                    </button>

                    <!-- Security Notice -->
                    <div class="security-notice mt-3 p-3 bg-light rounded">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-shield-check text-success me-2"></i>
                            <small class="text-muted">Your payment information is secure and encrypted</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Address Modal -->
    <div class="modal fade" id="addAddressModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Address</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addAddressForm">
                        <div class="mb-3">
                            <label class="form-label">Address Label</label>
                            <input type="text" class="form-control" placeholder="e.g. Home, Office" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Phone Number</label>
                            <div class="input-group">
                                <span class="input-group-text">+63</span>
                                <input type="tel" class="form-control" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Street Address</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">City/Municipality</label>
                                <input type="text" class="form-control" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Province</label>
                                <input type="text" class="form-control" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Postal Code</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="setAsDefault">
                            <label class="form-check-label" for="setAsDefault">
                                Set as default address
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveAddressBtn">Save Address</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-5 border-top mt-5">
        <div class="container">
            <div class="text-center">
                <p class="text-muted mb-0"><i class="bi bi-c-circle me-1"></i>2025 From Sagnay to Every Home. All rights reserved.</p>
                <p class="text-muted small"><i class="bi bi-shop me-1"></i>An e-commerce platform connecting local producers in Sagnay, Camarines Sur with customers nationwide.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Checkout JavaScript -->
    <script src="../../../scripts/payment/checkout.js"></script>
</body>

</html>
