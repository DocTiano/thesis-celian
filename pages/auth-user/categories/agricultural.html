<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agricultural Products | From Sagnay to Every Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../../../css/styles.css">
</head>

<style>

.btn-outline-custom {
    color: #e44c31;
    border: 1px solid #e44c31;
    background-color: transparent;
    transition: all 0.3s ease;
}

.btn-outline-custom:hover {
    background-color: #e44c31;
    color: #fff;
}

</style>


<body>
    <!-- Header -->
    <header class="header-wrapper">
        <div class="header-with-search-wrapper">
            <div class="logo-wrapper">
                <a href="../index.html" aria-label="Home">
                    <img src="../../../logos/s2eh.png" alt="Logo">
                </a>
            </div>

            <div class="search-wrapper">
                <input type="text" class="search-input" placeholder="Search agricultural products...">
                <button class="search-button">
                    <i class="bi bi-search"></i>
                </button>
            </div>

            <div class="cart-account-wrapper">
                <!-- Chat Icon -->
                <a href="../chat/chat.html" class="chat-wrapper" aria-label="Chat">
                    <i class="bi bi-chat-dots cart-icon"></i>
                    <span class="badge bg-danger position-absolute top-0 start-100 translate-middle">3</span>

                </a>

                <!-- Basket -->
                <a href="../cart.html" class="basket-wrapper" aria-label="Basket">
                    <i class="bi bi-basket cart-icon"></i>
                    <span class="basket-badge"></span>

                </a>

                <!-- Account -->
                <a href="../account/profile/profile.html" class="account-wrapper" aria-label="Account">
                    <i class="bi bi-person-fill"></i>
                </a>
            </div>
        </div>
    </header>

    <!-- Category Header -->
    <section class="category-header bg-success text-white py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-12 text-center">
                    <h1 class="fw-bold mb-3">Agricultural Products</h1>
                    <p class="lead mb-0">Fresh products from local farmers in Sagnay</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Category Content -->
    <div class="container" style="margin-top: 2rem;">
        <!-- Simple Header -->
        <div class="row mb-4">
            <div class="col-12">
                <h2 class="text-center mb-3">Fresh Agricultural Products</h2>
            </div>
        </div>

        <!-- Products Display -->
        <div class="row">
            <div class="col-12">
                <!-- Products Grid -->
                <div class="row g-4" id="productsGrid">
                    <!-- Products will be loaded dynamically via pagination -->
                </div>
            </div>
        </div>

        <!-- Pagination -->
        <div class="row mt-5">
            <div class="col-12">
                <nav aria-label="Product pagination">
                    <ul class="pagination justify-content-center" id="pagination">
                        <li class="page-item disabled" id="prevPage">
                            <a class="page-link" href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li class="page-item active" id="page1">
                            <a class="page-link" href="#" data-page="1">1</a>
                        </li>
                        <li class="page-item" id="page2">
                            <a class="page-link" href="#" data-page="2">2</a>
                        </li>
                        <li class="page-item" id="page3">
                            <a class="page-link" href="#" data-page="3">3</a>
                        </li>
                        <li class="page-item" id="nextPage">
                            <a class="page-link" href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-5 border-top mt-5">
        <div class="container">
            <div class="text-center">
                <p class="text-muted mb-0"><i class="bi bi-c-circle me-1"></i>2025 From Sagnay to Every Home. All rights
                    reserved.</p>
                <p class="text-muted small"><i class="bi bi-shop me-1"></i>An e-commerce platform connecting local
                    producers in Sagnay, Camarines Sur with customers nationwide.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Simple JavaScript -->
    <script type="module" src="../../../scripts/cart/basket.js"></script>
    <script type="module" src="../../../scripts/ui/notifications.js"></script>

    <!-- Pagination Script -->
    <script type="module">
        let currentPage = 1;
        const productsPerPage = 12;

        // All product data
        const allProducts = [
            // Page 1 (12 products)
            { id: "prod1", name: "Organic Rice (5kg)", farm: "Santos Family Farm", price: "₱320.00", image: "../../../images/unknown.jpg" },
            { id: "prod2", name: "Fresh Vegetables Mix", farm: "Green Valley Farm", price: "₱150.00", image: "../../../images/unknown.jpg" },
            { id: "prod3", name: "Fresh Coconuts (6 pcs)", farm: "Coastal Farm", price: "₱180.00", image: "../../../images/unknown.jpg" },
            { id: "prod4", name: "Sweet Mangoes (1kg)", farm: "Tropical Fruits Farm", price: "₱200.00", image: "../../../images/unknown.jpg" },
            { id: "prod5", name: "Pili Nuts (250g)", farm: "Mountain Farm", price: "₱180.00", image: "../../../images/unknown.jpg" },
            { id: "prod6", name: "Fresh Bananas (1 bunch)", farm: "Riverside Farm", price: "₱80.00", image: "../../../images/unknown.jpg" },
            { id: "prod7", name: "Corn (5kg)", farm: "Golden Field Farm", price: "₱250.00", image: "../../../images/unknown.jpg" },
            { id: "prod8", name: "Sweet Potato (2kg)", farm: "Highland Farm", price: "₱120.00", image: "../../../images/unknown.jpg" },
            { id: "prod9", name: "Tomatoes (1kg)", farm: "Fresh Harvest", price: "₱90.00", image: "../../../images/unknown.jpg" },
            { id: "prod10", name: "Cabbage (1 head)", farm: "Green Fields", price: "₱45.00", image: "../../../images/unknown.jpg" },
            { id: "prod11", name: "Carrots (1kg)", farm: "Orange Grove", price: "₱80.00", image: "../../../images/unknown.jpg" },
            { id: "prod12", name: "Green Beans (500g)", farm: "Valley Farm", price: "₱65.00", image: "../../../images/unknown.jpg" },
            
            // Page 2 (12 products)
            { id: "prod13", name: "Fresh Lettuce (1 head)", farm: "Crisp Gardens", price: "₱35.00", image: "../../../images/unknown.jpg" },
            { id: "prod14", name: "Red Onions (1kg)", farm: "Bulb Farm", price: "₱120.00", image: "../../../images/unknown.jpg" },
            { id: "prod15", name: "Bell Peppers (500g)", farm: "Colorful Harvest", price: "₱180.00", image: "../../../images/unknown.jpg" },
            { id: "prod16", name: "Eggplant (1kg)", farm: "Purple Field Farm", price: "₱60.00", image: "../../../images/unknown.jpg" },
            { id: "prod17", name: "Fresh Ginger (250g)", farm: "Spice Valley", price: "₱150.00", image: "../../../images/unknown.jpg" },
            { id: "prod18", name: "Squash (2kg)", farm: "Autumn Farm", price: "₱100.00", image: "../../../images/unknown.jpg" },
            { id: "prod19", name: "Okra (500g)", farm: "Green Pod Farm", price: "₱55.00", image: "../../../images/unknown.jpg" },
            { id: "prod20", name: "String Beans (1kg)", farm: "Bean Valley", price: "₱95.00", image: "../../../images/unknown.jpg" },
            { id: "prod21", name: "Radish (1kg)", farm: "Root Harvest", price: "₱70.00", image: "../../../images/unknown.jpg" },
            { id: "prod22", name: "Chili Peppers (250g)", farm: "Spicy Fields", price: "₱40.00", image: "../../../images/unknown.jpg" },
            { id: "prod23", name: "Sweet Corn (5 pcs)", farm: "Sunny Acres", price: "₱85.00", image: "../../../images/unknown.jpg" },
            { id: "prod24", name: "Papaya (1 pc)", farm: "Tropical Grove", price: "₱120.00", image: "../../../images/unknown.jpg" },
            
            // Page 3 (12 products)
            { id: "prod25", name: "Watermelon (1 pc)", farm: "Melon Farm", price: "₱180.00", image: "../../../images/unknown.jpg" },
            { id: "prod26", name: "Pineapple (1 pc)", farm: "Golden Fruit Farm", price: "₱150.00", image: "../../../images/unknown.jpg" },
            { id: "prod27", name: "Avocado (3 pcs)", farm: "Green Orchard", price: "₱200.00", image: "../../../images/unknown.jpg" },
            { id: "prod28", name: "Cucumber (1kg)", farm: "Cool Harvest", price: "₱60.00", image: "../../../images/unknown.jpg" },
            { id: "prod29", name: "Bitter Gourd (500g)", farm: "Healthy Greens", price: "₱45.00", image: "../../../images/unknown.jpg" },
            { id: "prod30", name: "Bottle Gourd (1 pc)", farm: "Gourd Gardens", price: "₱50.00", image: "../../../images/unknown.jpg" },
            { id: "prod31", name: "Lemon Grass (bundle)", farm: "Herb Valley", price: "₱25.00", image: "../../../images/unknown.jpg" },
            { id: "prod32", name: "Basil Leaves (bunch)", farm: "Aromatic Herbs", price: "₱30.00", image: "../../../images/unknown.jpg" },
            { id: "prod33", name: "Cilantro (bunch)", farm: "Fresh Herbs", price: "₱20.00", image: "../../../images/unknown.jpg" },
            { id: "prod34", name: "Green Onions (bunch)", farm: "Onion Patch", price: "₱35.00", image: "../../../images/unknown.jpg" },
            { id: "prod35", name: "Garlic (500g)", farm: "Aromatic Farm", price: "₱180.00", image: "../../../images/unknown.jpg" },
            { id: "prod36", name: "Turmeric (250g)", farm: "Golden Root Farm", price: "₱120.00", image: "../../../images/unknown.jpg" }
        ];

        const totalPages = Math.ceil(allProducts.length / productsPerPage);

        function createProductCard(product) {
            return `
                <div class="col-lg-3 col-md-4 col-sm-6">
                    <div class="card h-100 shadow-sm">
                        <img src="${product.image}" class="card-img-top" alt="${product.name}" style="height: 200px; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title">${product.name}</h5>
                            <p class="text-muted small">By: ${product.farm}</p>
                            <h4 class="text-success">${product.price}</h4>
                            <span class="badge bg-success mb-2">LGU Verified</span>
                            <div class="d-grid gap-2">
                                <button class="btn btn-success add-to-basket" data-product-id="${product.id}">Add to Basket</button>
                                <a href="../product-details/product.html" class="btn btn-outline-custom">View Details</a>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function displayProducts(page) {
            const startIndex = (page - 1) * productsPerPage;
            const endIndex = startIndex + productsPerPage;
            const pageProducts = allProducts.slice(startIndex, endIndex);
            
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = '';
            
            pageProducts.forEach(product => {
                productsGrid.innerHTML += createProductCard(product);
            });

            // Scroll to top of products section
            document.querySelector('.container').scrollIntoView({ behavior: 'smooth' });
        }

        function updatePagination(page) {
            // Update active page
            document.querySelectorAll('.page-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Update page numbers display
            const pagination = document.getElementById('pagination');
            const prevPage = document.getElementById('prevPage');
            const nextPage = document.getElementById('nextPage');
            
            // Clear existing page numbers
            const pageItems = pagination.querySelectorAll('.page-item:not(#prevPage):not(#nextPage)');
            pageItems.forEach(item => item.remove());
            
            // Calculate which page numbers to show
            let startPage = Math.max(1, page - 1);
            let endPage = Math.min(totalPages, startPage + 2);
            
            if (endPage - startPage < 2) {
                startPage = Math.max(1, endPage - 2);
            }
            
            // Add page numbers
            for (let i = startPage; i <= endPage; i++) {
                const pageItem = document.createElement('li');
                pageItem.className = `page-item ${i === page ? 'active' : ''}`;
                pageItem.innerHTML = `<a class="page-link" href="#" data-page="${i}">${i}</a>`;
                pagination.insertBefore(pageItem, nextPage);
            }
            
            // Update prev/next buttons
            prevPage.classList.toggle('disabled', page === 1);
            nextPage.classList.toggle('disabled', page === totalPages);
        }

        // Initialize pagination
        function initPagination() {
            const pagination = document.getElementById('pagination');
            
            pagination.addEventListener('click', (e) => {
                e.preventDefault();
                
                if (e.target.classList.contains('page-link')) {
                    const page = parseInt(e.target.getAttribute('data-page'));
                    
                    if (page) {
                        currentPage = page;
                        displayProducts(currentPage);
                        updatePagination(currentPage);
                    } else if (e.target.closest('#prevPage') && currentPage > 1) {
                        currentPage--;
                        displayProducts(currentPage);
                        updatePagination(currentPage);
                    } else if (e.target.closest('#nextPage') && currentPage < totalPages) {
                        currentPage++;
                        displayProducts(currentPage);
                        updatePagination(currentPage);
                    }
                }
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            displayProducts(1); // Load first page of products
            updatePagination(1);
            initPagination();
        });
    </script>
</body>

</html>